@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

/* ================================
   CustodyBuddy CSS â€“ Fixed & Token-Aligned
   ================================ */

:root {
  color-scheme: dark;

  /* --- Core Brand --- */
  --cb-accent-primary: #FFD700;   /* canonical gold */
  --cb-accent-soft: #F4E883;
  
  /* --- Backgrounds --- */
  --cb-bg-page: #0C1522;          /* softened navy/graphite */
  --cb-bg-surface: #15263B;       /* lighter navy card */
  --cb-bg-section: #1C2F46;

  /* --- Text --- */
  --cb-text-heading: #F3D870;
  --cb-text-body: #E4E0D4;        /* WCAG-boosted */
  --cb-text-muted: #CBD2DC;

  /* --- Effects --- */
  --cb-border: rgba(255,215,0,0.18);
  --cb-shadow: 0 14px 38px rgba(0,0,0,0.35);
}

* { box-sizing: border-box; }

html, body { height:100%; }

body {
  margin:0;
  min-height:100vh;
  font-family: 'Inter', sans-serif;
  background:
    radial-gradient(circle at 20% 20%, rgba(255,215,0,0.08), transparent 30%),
    radial-gradient(circle at 80% 0%, rgba(28,47,70,0.35), transparent 35%),
    var(--cb-bg-page);
  color: var(--cb-text-body);
  line-height:1.6;
}

/* ---------- Links ---------- */
a{color:var(--cb-accent-soft);text-decoration:none;transition:color .18s ease,opacity .18s ease;}
a:hover,a:focus-visible{color:var(--cb-accent-primary);} 
a:focus-visible{outline:2px solid var(--cb-accent-primary);outline-offset:2px;}

/* ---------- Layout ---------- */
.container{width:min(1100px,94%);margin:0 auto;}

main.container{padding:40px 0 56px;}

.page-nav{
  display:flex;
  gap:12px;
  align-items:center;
  flex-wrap:wrap;
  margin:14px 0 18px;
}

.page-nav .cb-btn{min-width:0;padding-inline:14px;}

.skip-link{
  position:absolute;
  left:-999px;
  top:12px;
  padding:10px 14px;
  background:var(--cb-accent-primary);
  color:#030100;
  border-radius:8px;
  font-weight:700;
  z-index:999;
}

.skip-link:focus-visible{
  left:16px;
  outline:2px solid #fff;
  outline-offset:2px;
}

.sr-only{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

/* ---------- Header ---------- */
.site-header{
  background:linear-gradient(135deg,rgba(21,38,59,.9),rgba(28,47,70,.82));
  border-bottom:1px solid var(--cb-border);
  backdrop-filter:blur(10px);
  position:sticky;top:0;z-index:10;
  box-shadow:0 18px 36px rgba(0,0,0,0.38);
}

.header-bar{
  display:grid;
  grid-template-columns:1fr auto;
  align-items:center;
  gap:18px;
  padding:22px 0 14px;
}

.brand{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.site-nav ul{display:flex;gap:14px;align-items:center;justify-content:flex-start;padding:0;margin:0;list-style:none;flex-wrap:wrap;}

.nav-actions{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;}

.nav-actions .nav-cta{
  color:var(--cb-text-muted);
  font-weight:700;
  padding:6px 8px;
  border-radius:10px;
  transition:color .18s ease,background .18s ease;
}

.nav-actions .nav-cta:hover,.nav-actions .nav-cta:focus-visible{
  color:var(--cb-text-heading);
  background:rgba(255,215,0,0.06);
  outline:2px solid var(--cb-accent-primary);
  outline-offset:2px;
}

.site-nav a{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:8px 12px;
  border-radius:999px;
  border:1px solid transparent;
  font-weight:700;
  color:var(--cb-text-muted);
  background:rgba(255,255,255,0.02);
}

.site-nav a:hover,.site-nav a:focus-visible{
  color:var(--cb-text-heading);
  border-color:rgba(255,215,0,0.4);
  background:rgba(255,215,0,0.06);
}

.header-highlight{
  display:grid;
  grid-template-columns:1.2fr .9fr;
  gap:22px;
  padding:26px 0 38px;
}

.highlight-copy{
  background:linear-gradient(140deg,rgba(21,38,59,0.88),rgba(12,21,34,0.5));
  border:1px solid var(--cb-border);
  border-radius:18px;
  padding:20px;
  box-shadow:var(--cb-shadow);
}

.highlight-title{margin:10px 0 14px;color:var(--cb-text-heading);font-size:clamp(1.9rem,1.4vw + 1.5rem,2.6rem);line-height:1.1;font-weight:800;}

.highlight-lede{margin:0;color:var(--cb-text-muted);line-height:1.7;}

.highlight-copy .page-nav{margin-top:12px;}

.header-highlight .page-nav .cb-btn{min-width:0;}

.highlight-meta{
  display:grid;
  gap:12px;
  align-content:flex-start;
}

.meta-card{
  background:rgba(255,255,255,0.02);
  border:1px solid var(--cb-border);
  border-radius:14px;
  padding:14px 16px;
  box-shadow:var(--cb-shadow);
}

.meta-label{margin:0 0 4px;font-size:.88rem;text-transform:uppercase;letter-spacing:.1em;color:var(--cb-text-heading);}

.meta-value{margin:0;color:var(--cb-text-muted);}

.site-header h1{
  margin:0;
  font-size:clamp(1.6rem,2vw + 1rem,2.1rem);
  font-weight:800;
  letter-spacing:-0.02em;
  color:var(--cb-text-heading);
}

.site-header h1 a{color:inherit;}

.tagline{margin:0;color:var(--cb-text-muted);font-weight:500;max-width:650px;}

/* ---------- Grid ---------- */
.section-block{margin:40px 0;}

.section-heading{margin:0 0 36px;max-width:840px;}

.section-heading h2{margin:4px 0 8px;font-size:clamp(1.6rem,1.2vw + 1.2rem,2rem);}

.eyebrow{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:4px 10px;
  font-size:.9rem;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--cb-text-heading);
  background:rgba(255,215,0,0.08);
  border:1px solid rgba(255,215,0,0.18);
  border-radius:999px;
}

.eyebrow::before{
  content:"";
  width:10px;
  height:10px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--cb-accent-primary),rgba(255,215,0,0.35));
  box-shadow:0 0 0 5px rgba(255,215,0,0.06);
}

.lede{margin:0;color:var(--cb-text-muted);font-size:1.05rem;line-height:1.7;}

.posts-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(340px,1fr));
  gap:28px;
}

.posts-toolbar{
  display:grid;
  grid-template-columns:1fr 1.2fr;
  gap:16px;
  align-items:end;
  margin:20px 0 36px;
  padding:16px 18px;
  background:rgba(255,215,0,0.05);
  border:1px solid var(--cb-border);
  border-radius:16px;
  box-shadow:var(--cb-shadow);
}

.toolbar-stat .stat-label{margin:0;color:var(--cb-text-heading);text-transform:uppercase;letter-spacing:.08em;font-size:.95rem;}
.toolbar-stat .stat-value{margin:6px 0 4px;color:var(--cb-text-body);font-size:1.2rem;font-weight:800;}
.toolbar-stat .stat-caption{margin:0;color:var(--cb-text-muted);}

.toolbar-search{display:flex;flex-direction:column;gap:6px;}
.search-input{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
.search-input input{
  flex:1;
  min-width:200px;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid rgba(255,215,0,0.35);
  background:rgba(3,1,0,0.45);
  color:var(--cb-text-body);
  font-size:1rem;
}
.search-input input:focus-visible{
  outline:2px solid var(--cb-accent-primary);
  outline-offset:2px;
}
.search-input button{min-width:120px;}
.search-hint{margin:0;color:var(--cb-text-muted);font-size:.95rem;}

/* ---------- Cards ---------- */
.post-card,.post{
  background:linear-gradient(180deg,rgba(15,26,46,.96),rgba(11,26,51,.9));
  border:1px solid var(--cb-border);
  border-radius:16px;
  padding:20px;
  box-shadow:var(--cb-shadow);
  transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease;
}

.post-card:hover,.post:hover{
  transform:translateY(-4px);
  border-color:rgba(255,215,0,.45);
  box-shadow:0 18px 36px rgba(0,0,0,.45);
}

/* ---------- Titles ---------- */
.post-card h2,.post h1,.post h2,.card-title{
  margin-top:.2rem;
  margin-bottom:.4rem;
  letter-spacing:-.01em;
  color:var(--cb-text-heading);
}

.post h1{font-size:clamp(1.8rem,2vw + 1rem,2.3rem);line-height:1.2;}
.post-card h2,.card-title{font-size:1.25rem;}

/* ---------- Metadata ---------- */
.date{
  color:var(--cb-text-muted);
  font-size:.95rem;
  letter-spacing:.06em;
  text-transform:uppercase;
  margin:0 0 6px;
}

/* ---------- Body Copy ---------- */
.post-card p,.post p{margin-top:.2rem;margin-bottom:.8rem;color:var(--cb-text-muted);}
.post .content{color:var(--cb-text-body);}
.card-topic{margin:0 0 10px;color:var(--cb-text-muted);font-weight:600;letter-spacing:0.01em;}

.post .content h2,.post .content h3{color:var(--cb-text-heading);margin-top:1.4rem;}

.post .content ul,.post .content ol{padding-left:1.2rem;color:var(--cb-text-muted);}

.card-summary{color:var(--cb-text-body);line-height:1.6;}

.post-hero{
  position:relative;
  padding:8px 8px 12px;
  background:linear-gradient(135deg,rgba(255,215,0,0.08),rgba(3,1,0,0));
  border-radius:14px;
  border:1px solid rgba(255,215,0,0.14);
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.05);
}

.post-summary{margin:10px 0 0;color:var(--cb-text-body);font-size:1.05rem;line-height:1.7;}

.post-body{margin-top:12px;line-height:1.8;font-size:1.02rem;}

.post-body p{color:var(--cb-text-body);}

.post-utility{
  display:grid;
  grid-template-columns:1.2fr .9fr;
  gap:16px;
  margin-bottom:16px;
  padding:18px;
  background:linear-gradient(135deg,rgba(255,215,0,0.06),rgba(1,25,44,0.65));
  border:1px solid var(--cb-border);
  border-radius:16px;
  box-shadow:var(--cb-shadow);
}

.utility-meta h2{margin:6px 0;color:var(--cb-text-heading);}
.utility-summary{margin:0;color:var(--cb-text-muted);line-height:1.7;}
.utility-actions{display:flex;flex-direction:column;gap:8px;align-items:flex-start;}
.utility-buttons{display:flex;gap:10px;flex-wrap:wrap;}
.copy-status{margin:0;color:var(--cb-text-muted);font-size:.96rem;}
.cb-btn[data-state="success"]{box-shadow:0 0 0 2px rgba(255,215,0,0.45),0 10px 18px rgba(0,0,0,0.35);}
.cb-btn[data-state="error"]{border-color:#d64545;background:linear-gradient(135deg,rgba(214,69,69,0.6),rgba(214,69,69,0.45));}

.divider{
  height:1px;
  margin:14px 0 12px;
  background:linear-gradient(90deg,rgba(255,215,0,0),rgba(255,215,0,0.35),rgba(255,215,0,0));
  border-radius:999px;
}

/* ---------- CTA Button ---------- */
.read-more{
  display:inline-flex;align-items:center;gap:6px;
  padding:10px 14px;
  font-weight:600;
  color:#030100;
  background:linear-gradient(120deg,rgba(255,215,0,.85),rgba(255,215,0,.65));
  border-radius:999px;
  border:1px solid rgba(255,215,0,.6);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.12),0 8px 16px rgba(0,0,0,.35);
}

.read-more:hover,.read-more:focus-visible{
  background:var(--cb-accent-soft);
  color:#030100;
}

.about{margin:40px 0;}

.about-card{
  background:linear-gradient(120deg,rgba(1,25,44,0.85),rgba(3,1,0,0.4));
  border:1px solid var(--cb-border);
  border-radius:18px;
  padding:24px;
  box-shadow:var(--cb-shadow);
}

.about-card h2{margin-top:0;color:var(--cb-text-heading);}

.about-card p{color:var(--cb-text-muted);max-width:760px;}

.about-actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px;}

/* ---------- Button Components ---------- */
.cb-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:12px 16px;
  font-weight:700;
  letter-spacing:0.01em;
  border-radius:12px;
  border:1px solid transparent;
  cursor:pointer;
  transition:transform .16s ease,box-shadow .16s ease,border-color .16s ease,background .16s ease,color .16s ease;
  text-decoration:none;
  min-width:140px;
}

.cb-btn:focus-visible{
  outline:2px solid var(--cb-accent-primary);
  outline-offset:2px;
}

.cb-btn-primary{
  color:#030100;
  background:linear-gradient(135deg,rgba(243,209,96,.9),rgba(243,209,96,.7));
  border-color:rgba(243,209,96,.6);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 8px 18px rgba(0,0,0,.28);
}

.cb-btn-primary:hover,.cb-btn-primary:focus-visible{
  background:var(--cb-accent-soft);
  transform:translateY(-1px);
  box-shadow:0 10px 20px rgba(0,0,0,.32);
}

.cb-btn-secondary{
  color:var(--cb-text-heading);
  background:rgba(3,1,0,0.32);
  border-color:rgba(243,209,96,0.38);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.06);
}

.cb-btn-secondary:hover,.cb-btn-secondary:focus-visible{
  background:rgba(244,232,131,0.1);
  border-color:rgba(243,209,96,0.6);
  color:var(--cb-text-heading);
  transform:translateY(-1px);
  box-shadow:0 8px 16px rgba(0,0,0,.28);
}

.cb-btn-ghost{
  color:var(--cb-text-muted);
  background:transparent;
  border-color:rgba(255,215,0,0.22);
}

.cb-btn-ghost:hover,.cb-btn-ghost:focus-visible{
  color:var(--cb-text-heading);
  border-color:rgba(255,215,0,0.6);
  background:rgba(255,215,0,0.05);
  transform:translateY(-1px);
  box-shadow:0 12px 20px rgba(0,0,0,.3);
}

.cb-btn-danger{
  color:#fff;
  background:linear-gradient(135deg,#d64545,#b72f2f);
  border-color:rgba(214,69,69,0.8);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.08),0 12px 24px rgba(0,0,0,.35);
}

.cb-btn-danger:hover,.cb-btn-danger:focus-visible{
  background:linear-gradient(135deg,#ef5656,#cf3d3d);
  border-color:rgba(214,69,69,1);
  transform:translateY(-1px);
  box-shadow:0 14px 26px rgba(0,0,0,.45);
}

/* ---------- Legal Content Components ---------- */
.cb-article{
  background:linear-gradient(180deg,rgba(15,26,46,.9),rgba(3,1,0,.3));
  border:1px solid var(--cb-border);
  border-radius:18px;
  padding:24px;
  box-shadow:var(--cb-shadow);
  color:var(--cb-text-body);
}

.cb-section{
  padding:18px 18px 16px 18px;
  margin:0 0 14px;
  background:rgba(255,215,0,0.04);
  border:1px solid rgba(255,215,0,0.18);
  border-radius:12px;
  position:relative;
}

.cb-section::before{
  content:"";
  position:absolute;
  inset:10px auto 10px 10px;
  width:4px;
  border-radius:6px;
  background:linear-gradient(180deg,var(--cb-accent-primary),rgba(255,215,0,0.35));
}

.cb-section h3{
  margin-top:0;
  margin-bottom:8px;
  color:var(--cb-text-heading);
  letter-spacing:-0.01em;
}

.cb-caption{
  display:block;
  margin-top:6px;
  color:var(--cb-text-muted);
  font-size:0.95rem;
  text-transform:uppercase;
  letter-spacing:0.08em;
}

.cb-footnote{
  margin-top:22px;
  padding-top:14px;
  border-top:1px dashed var(--cb-border);
  color:var(--cb-text-muted);
  font-size:0.95rem;
  line-height:1.5;
}

.cb-footnote a{color:var(--cb-accent-soft);}

.cb-caseblock{
  margin:12px 0;
  padding:14px 16px;
  background:rgba(3,1,0,0.35);
  border:1px solid var(--cb-border);
  border-left:4px solid var(--cb-accent-primary);
  border-radius:12px;
  font-weight:600;
  color:var(--cb-text-heading);
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.05);
}

.cb-caseblock span{
  display:block;
  margin-top:4px;
  color:var(--cb-text-muted);
  font-weight:500;
}

/* ---------- Footer ---------- */
.site-footer{
  border-top:1px solid var(--cb-border);
  padding:32px 0 38px;
  background:rgba(11,26,51,.82);
  color:var(--cb-text-muted);
  margin-top:26px;
}

.footer-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:18px;
  padding-bottom:12px;
}

.footer-brand h2{margin:0;color:var(--cb-text-heading);font-size:1.3rem;}

.footer-tagline{margin:6px 0 10px;color:var(--cb-text-muted);max-width:520px;}

.footer-actions{display:flex;gap:10px;flex-wrap:wrap;}

.footer-nav h3,.footer-meta h3{margin:0 0 8px;color:var(--cb-text-heading);}

.footer-nav ul{list-style:none;padding:0;margin:0;display:grid;gap:8px;}

.footer-nav a{color:var(--cb-text-muted);}

.footer-nav a:hover,.footer-nav a:focus-visible{color:var(--cb-text-heading);}

.footer-meta p{margin:6px 0;color:var(--cb-text-muted);} 

.footer-meta-list{display:grid;gap:10px;margin-top:8px;}

.footer-bottom{
  border-top:1px solid var(--cb-border);
  margin-top:12px;
  padding-top:14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}

.footer-note{margin:0;color:var(--cb-text-muted);}

.post-filter-empty{
  margin-top:16px;
  padding:16px;
  border:1px dashed var(--cb-border);
  border-radius:12px;
  background:rgba(255,215,0,0.04);
  text-align:center;
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.04);
}

.post-filter-empty p{margin:0 0 10px;color:var(--cb-text-muted);}

/* ---------- Scrollbars ---------- */
.no-scrollbar::-webkit-scrollbar{display:none;}
.no-scrollbar{-ms-overflow-style:none;scrollbar-width:none;}

.custom-scrollbar::-webkit-scrollbar{width:6px;}
.custom-scrollbar::-webkit-scrollbar-track{background:rgba(255,255,255,.06);}
.custom-scrollbar::-webkit-scrollbar-thumb{background:rgba(255,215,0,.35);border-radius:10px;}
.custom-scrollbar::-webkit-scrollbar-thumb:hover{background:rgba(255,215,0,.55);}

/* ---------- Responsive ---------- */
@media(max-width:900px){
  .header-bar{grid-template-columns:1fr;}
  .nav-actions{justify-content:flex-start;}
  .header-highlight{grid-template-columns:1fr;}
  .posts-toolbar{grid-template-columns:1fr;}
  .post-utility{grid-template-columns:1fr;}
}

/* ---------- Mobile ---------- */
@media(max-width:640px){
  .header-bar{padding:18px 0 12px;}
  .header-highlight{padding-bottom:18px;}
  main.container{padding:28px 0 46px;}
  .post-card,.post{padding:16px;}
  .posts-toolbar{padding:14px;}
  .post-utility{padding:14px;}
}
